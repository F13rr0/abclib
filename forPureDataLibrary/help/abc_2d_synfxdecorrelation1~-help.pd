#N canvas 0 98 1470 756 10;
#X obj 10 8 cnv 15 500 25 empty empty abc_2d_syn_decorrelationN~Â &_fx 20 12 0 18 #606060 #fcfcfc 0;
#X obj 8 691 abc_helpcredit;
#X obj 10 34 cnv 15 500 25 empty empty Decorrelation_processes_to_generate_or_process_spatial_components 20 12 0 12 #606060 #fcfcfc 0;
#X obj 646 625 tgl 15 0 empty empty DSP_on/off 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 646 653 \; pd dsp \$1 \;;
#X text 943 -3 CONTROLS;
#X text 546 -5 DESCRIPTION;
#X obj 112 321 abc_2d_syn_decorrelation1~, f 32;
#X obj 107 442 abc_2d_decoder1~, f 33;
#X obj 106 392 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 106 418 stereo \$1;
#X obj 1664 197 abc_upanddown;
#X obj 640 261 abc_soundgrain~;
#X obj 538 290 abc_2d_encoder1~, f 32;
#X obj 539 351 abc_2d_fx_decorrelation1~, f 32;
#X obj 537 444 abc_2d_decoder1~, f 33;
#X obj 535 395 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 535 418 stereo \$1;
#X obj 449 199 abc_gain -127;
#X obj 1141 320 abc_2d_randomtrajectory~, f 26;
#X obj 1141 357 abc_cartopol~, f 26;
#X msg 1141 298 freq \$1;
#X obj 1141 234 loadbang;
#X msg 1141 255 2;
#X floatatom 1141 276 5 0 0 0 - - - 0;
#X obj 1004 391 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 1004 412 stereo \$1;
#X obj 951 190 abc_gain -127;
#X obj 1029 545 dac~ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16, f 30;
#X msg 1664 242 factor \$1;
#X obj 75 484 abc_meter;
#X obj 509 485 abc_meter;
#X obj 953 504 abc_meter;
#X obj 112 294 r cmd;
#X obj 538 325 r cmd;
#X obj 1056 356 r cmd;
#X obj 1633 620 s cmd;
#X obj 1535 114 loadbang;
#X msg 1503 178 0;
#X obj 1503 205 vradio 15 1 0 22 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 1533 178 0;
#X floatatom 1533 205 5 0 1 0 - - - 0;
#X msg 1503 545 functiontype \$1;
#X msg 1533 240 fdbk \$1;
#X text 1451 250 log(1+x);
#X text 1488 208 x;
#X text 1476 220 x^2;
#X text 1476 236 sin;
#X text 1454 266 sqrt(x);
#X text 1418 281 1-cos(Pi/2*x);
#X text 1406 296 (1-cos(Pi*x))/2;
#X text 1441 311 1-(1-x)^2;
#X text 1429 325 composite 1;
#X text 1477 340 x^3;
#X text 1441 355 1-(1-x)^3;
#X text 1429 369 composite 2;
#X text 1477 384 x^4;
#X text 1441 399 1-(1-x)^4;
#X text 1429 414 composite 3;
#X text 1429 459 composite 4;
#X text 1477 429 x^5;
#X text 1441 444 1-(1-x)^5;
#X text 1429 489 composite 5;
#X text 1429 474 2^(10(x-1));
#X text 1417 506 1-sqrt(1-x^2);
#X text 1405 521 sqrt(1-(x-1)^2);
#X obj 110 229 abc_env_noise 125 0.25 0;
#X obj 1040 190 abc_env_noise 90 0.3 0;
#X obj 4 393 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 4 418 directangles \$1;
#X obj 432 395 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 432 418 directangles \$1;
#X obj 900 391 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 900 413 directangles \$1;
#X msg 1595 158 96000;
#X floatatom 1595 205 5 0 1 0 - - - 0;
#X msg 1595 242 delay \$1;
#X text 547 15 abc_2d_syn_decorrelation1~ \, abc_2d_syn_decorrelation2~ \, ... objects generate spatial decorrelated components in ambisonic from one mono signal. abc_2d_fx_decorrelated1~ \, abc_2d_fx_decorrelated2~ \, ... objects apply decorrelation to spatial components already created by encoders or maps for instance. If we are at order N in ambisonics \, the number of spatial components is P = 2*N+1. Each spatial component is delayed and the P delay lines are driven by a 'factor' parameter between 0 and 1 The ith (i between 0 and P-1) delay is either 0 or (i+1)*delay/P. The factor parameter is compared to 1-(i+1)/P. If it is greater than this threshold the delay is (i+1)*delay/P \, else the delay is 0;
#X text 943 18 delay is the maximum duration in samples of the delays (by default it is 48000 \, minimum is 10 maximum 262144 \, that is roughly 5 \, 46 sec at 48KHz);
#X obj 1664 177 tgl 15 1 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 1 1;
#X obj 1664 155 loadbang;
#X msg 537 266 angle \$1;
#X floatatom 537 245 5 -360 360 0 - - - 0;
#X obj 585 482 abc_quadriout -15 1 2 3 4;
#X obj 155 485 abc_quadriout -15 1 2 3 4;
#X text 942 58 factor (between 0 and 1) is a control parameter that 'opens' the delay lines when increasing;
#X text 942 95 functiontype (between 0 and 21) set the distribution used to spread delay time between the spatial components;
#X text 941 130 fdbk set the amount of feedback of each delay line;
#X obj 19 193 abc_gain -127;
#X obj 744 444 abc_ambi_scope1;
#X obj 1068 388 abc_2d_map7~, f 38;
#X obj 1068 428 abc_2d_fx_decorrelation7~, f 38;
#X obj 1018 476 abc_2d_decoder7~;
#X obj 1227 477 abc_ambi_scope7;
#X connect 3 0 4 0;
#X connect 7 1 8 1;
#X connect 7 2 8 2;
#X connect 7 3 8 3;
#X connect 8 1 30 0;
#X connect 8 1 84 0;
#X connect 8 2 84 1;
#X connect 8 3 84 2;
#X connect 8 4 84 3;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 29 0;
#X connect 12 1 13 1;
#X connect 13 1 14 1;
#X connect 13 2 14 2;
#X connect 13 3 14 3;
#X connect 14 1 15 1;
#X connect 14 1 89 1;
#X connect 14 2 15 2;
#X connect 14 2 89 2;
#X connect 14 3 15 3;
#X connect 14 3 89 3;
#X connect 15 1 31 0;
#X connect 15 1 83 0;
#X connect 15 2 83 1;
#X connect 15 3 83 2;
#X connect 15 4 83 3;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 0 15 0;
#X connect 19 1 20 1;
#X connect 19 2 20 2;
#X connect 20 1 90 2;
#X connect 20 2 90 3;
#X connect 21 0 19 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 21 0;
#X connect 25 0 26 0;
#X connect 26 0 92 0;
#X connect 27 0 92 0;
#X connect 29 0 36 0;
#X connect 33 0 7 0;
#X connect 34 0 14 0;
#X connect 35 0 91 0;
#X connect 37 0 38 0;
#X connect 37 0 40 0;
#X connect 37 0 74 0;
#X connect 38 0 39 0;
#X connect 39 0 42 0;
#X connect 40 0 41 0;
#X connect 41 0 43 0;
#X connect 42 0 36 0;
#X connect 43 0 36 0;
#X connect 66 0 7 1;
#X connect 67 0 90 1;
#X connect 68 0 69 0;
#X connect 69 0 8 0;
#X connect 70 0 71 0;
#X connect 71 0 15 0;
#X connect 72 0 73 0;
#X connect 73 0 92 0;
#X connect 74 0 75 0;
#X connect 75 0 76 0;
#X connect 76 0 36 0;
#X connect 79 0 11 0;
#X connect 80 0 79 0;
#X connect 81 0 13 0;
#X connect 82 0 81 0;
#X connect 88 0 8 0;
#X connect 90 1 91 1;
#X connect 90 2 91 2;
#X connect 90 3 91 3;
#X connect 90 4 91 4;
#X connect 90 5 91 5;
#X connect 90 6 91 6;
#X connect 90 7 91 7;
#X connect 90 8 91 8;
#X connect 90 9 91 9;
#X connect 90 10 91 10;
#X connect 90 11 91 11;
#X connect 90 12 91 12;
#X connect 90 13 91 13;
#X connect 90 14 91 14;
#X connect 90 15 91 15;
#X connect 91 1 92 1;
#X connect 91 1 93 1;
#X connect 91 2 92 2;
#X connect 91 2 93 2;
#X connect 91 3 92 3;
#X connect 91 3 93 3;
#X connect 91 4 92 4;
#X connect 91 4 93 4;
#X connect 91 5 92 5;
#X connect 91 5 93 5;
#X connect 91 6 92 6;
#X connect 91 6 93 6;
#X connect 91 7 92 7;
#X connect 91 7 93 7;
#X connect 91 8 92 8;
#X connect 91 8 93 8;
#X connect 91 9 92 9;
#X connect 91 9 93 9;
#X connect 91 10 92 10;
#X connect 91 10 93 10;
#X connect 91 11 92 11;
#X connect 91 11 93 11;
#X connect 91 12 92 12;
#X connect 91 12 93 12;
#X connect 91 13 92 13;
#X connect 91 13 93 13;
#X connect 91 14 92 14;
#X connect 91 14 93 14;
#X connect 91 15 92 15;
#X connect 91 15 93 15;
#X connect 92 1 28 0;
#X connect 92 1 32 0;
#X connect 92 2 28 1;
#X connect 92 3 28 2;
#X connect 92 4 28 3;
#X connect 92 5 28 4;
#X connect 92 6 28 5;
#X connect 92 7 28 6;
#X connect 92 8 28 7;
#X connect 92 9 28 8;
#X connect 92 10 28 9;
#X connect 92 11 28 10;
#X connect 92 12 28 11;
#X connect 92 13 28 12;
#X connect 92 14 28 13;
#X connect 92 15 28 14;
#X connect 92 16 28 15;
#X coords 0 756 1 755 85 60 0;
