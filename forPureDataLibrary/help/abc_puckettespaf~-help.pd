#N canvas 25 418 1360 767 10;
#X obj 14 6 cnv 15 500 25 empty empty abc_puckettespaf~Â  20 12 0 18
#606060 #fcfcfc 0;
#X obj 13 610 abc_helpcredit;
#X obj 14 32 cnv 15 500 25 empty empty A_Phase_Aligned_Formant_(PAF)_generator
20 12 0 12 #606060 #fcfcfc 0;
#X obj 701 406 tgl 15 0 empty empty DSP_on/off 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 701 434 \; pd dsp \$1 \;;
#X obj 44 432 abc_meter;
#X text 836 643 CONTROLS;
#X text 834 455 DESCRIPTION;
#X text 835 475 abc_jupiterbank~ is inspired by the bank of 14 oscillators
used by Philippe Manoury in Jupiter for flute and live electronics.
It enables to generate spectra that can evoluate from harmonic to inharmonic
content. The 14 frequencies (i from 0 to 13) are given by the formula:
f_i = (k+i)*f0 where k is a constant and f0 a kind of 'fundamental'
frequency. The distance between the frequencies is always f0. When
k is 1 \, the spectrem is harmonic and results in f0 \, 2*f0 \, ...
\, 14*f0. When k is diffrent from integers \, the spectrum is inharmonic.
We added to these 14 oscillators 14 resonant filters tuned at the same
frequencies. Crossfading between oscillators and filters is controlled
by osc2filter.;
#X obj 287 421 abc_cosrandenv14~ -------------;
#N canvas 637 371 745 336 mix 0;
#X obj 15 15 inlet~;
#X obj 61 15 inlet~;
#X obj 107 15 inlet~;
#X obj 153 15 inlet~;
#X obj 198 15 inlet~;
#X obj 244 15 inlet~;
#X obj 290 15 inlet~;
#X obj 336 15 inlet~;
#X obj 382 15 inlet~;
#X obj 428 15 inlet~;
#X obj 474 15 inlet~;
#X obj 520 15 inlet~;
#X obj 565 15 inlet~;
#X obj 611 15 inlet~;
#X obj 16 289 outlet~;
#X obj 67 289 outlet~;
#X obj 117 289 outlet~;
#X obj 168 289 outlet~;
#X obj 219 289 outlet~;
#X obj 270 289 outlet~;
#X obj 321 289 outlet~;
#X obj 372 289 outlet~;
#X obj 423 289 outlet~;
#X obj 474 289 outlet~;
#X obj 525 288 outlet~;
#X obj 576 288 outlet~;
#X obj 626 287 outlet~;
#X obj 677 287 outlet~;
#X connect 0 0 14 0;
#X connect 1 0 27 0;
#X connect 2 0 15 0;
#X connect 3 0 26 0;
#X connect 4 0 16 0;
#X connect 5 0 25 0;
#X connect 6 0 17 0;
#X connect 7 0 24 0;
#X connect 8 0 18 0;
#X connect 9 0 23 0;
#X connect 10 0 19 0;
#X connect 11 0 22 0;
#X connect 12 0 20 0;
#X connect 13 0 21 0;
#X restore 299 469 pd mix ----------------------;
#X obj 287 515 abc_chopan14~ -----------------;
#N canvas 934 213 333 274 envs 0;
#X obj 116 36 loadbang;
#X msg 54 76 8;
#X msg 125 76 0.4;
#X msg 237 76 0.8;
#X floatatom 54 97 5 0 0 0 - - - 0;
#X floatatom 125 97 5 0 0 0 - - - 0;
#X floatatom 237 97 5 0 0 0 - - - 0;
#X msg 54 117 freq \$1;
#X msg 125 117 rarefaction \$1;
#X msg 237 117 spread \$1;
#X obj 129 218 outlet;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 10 0;
#X connect 9 0 10 0;
#X restore 184 387 pd envs;
#X obj 371 554 abc_stereoout -40;
#X text 837 664 - k is the constant that determines the harmonic/inharmonic
behaviour of the generator - f0 is the 'fundamental' frequency of the
generator - osc2filter provides a crossfade between the 14 oscillators
and the 14 resonant filters (0 => oscillators \, 1 => filters) - resg
is the gain of the filters - resq is the quality factor of the filters
;
#X obj 47 77 abc_gain -20;
#X obj 153 81 r p1;
#N canvas 515 50 143 300 perfectThird 0;
#X obj 56 258 outlet;
#X obj 30 10 inlet;
#X obj 30 31 route f0;
#X obj 30 56 * 1.25;
#X msg 30 103 f0 \$1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X restore 264 118 pd perfectThird;
#X obj 153 265 abc_puckettespaf~;
#X obj 265 265 abc_puckettespaf~;
#X obj 153 286 *~ 0.3;
#X obj 265 286 *~ 0.3;
#X obj 153 323 dac~;
#X obj 395 76 abc_gain -20;
#X obj 501 80 r p1;
#N canvas 515 50 143 300 perfectThird 0;
#X obj 56 258 outlet;
#X obj 30 10 inlet;
#X obj 30 31 route f0;
#X obj 30 56 * 1.25;
#X msg 30 103 f0 \$1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X restore 618 117 pd perfectThird;
#X obj 501 285 *~ 0.3;
#X obj 619 285 *~ 0.3;
#X obj 501 322 dac~;
#X obj 543 221 r p2;
#X obj 501 264 abc_puckettespaf2~;
#X obj 619 264 abc_puckettespaf2~;
#N canvas 24 318 697 519 pafControl1 0;
#X obj 27 27 inlet;
#X obj 100 251 spigot;
#X obj 308 248 spigot;
#X obj 573 251 spigot;
#X obj 127 370 loadbang;
#X msg 127 391 350;
#X obj 102 442 outlet;
#X text 122 421 f0;
#X obj 146 49 *~ 5;
#X obj 146 70 +~ 349.228;
#X obj 146 161 snapshot~;
#X obj 308 28 osc~ 0.09;
#X obj 332 370 loadbang;
#X obj 307 442 outlet;
#X msg 332 391 50;
#X text 327 421 bw;
#X obj 575 443 outlet;
#X text 595 422 a;
#X obj 308 49 +~ 1;
#X obj 308 70 *~ 100;
#X obj 308 91 +~ 50;
#X obj 308 162 snapshot~;
#X obj 445 34 loadbang;
#X msg 445 55 1;
#X obj 572 116 abc_upanddown;
#X obj 572 161 * 0.15;
#X obj 572 182 + 0.08;
#X floatatom 572 203 5 0 0 0 - - - 0;
#X obj 445 123 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 445 76 metro 200;
#X obj 146 28 osc~ 1;
#X connect 0 0 1 1;
#X connect 0 0 2 1;
#X connect 0 0 3 1;
#X connect 1 0 6 0;
#X connect 2 0 13 0;
#X connect 3 0 16 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X connect 11 0 18 0;
#X connect 12 0 14 0;
#X connect 14 0 13 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 2 0;
#X connect 22 0 23 0;
#X connect 23 0 29 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 3 0;
#X connect 29 0 21 0;
#X connect 29 0 10 0;
#X connect 29 0 28 0;
#X connect 30 0 8 0;
#X restore 770 113 pd pafControl1;
#N canvas 150 175 450 300 pafControl2 0;
#X restore 1107 113 pd pafControl2;
#X obj 770 77 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 770 160 5 0 0 0 - - - 0;
#X msg 770 182 f0 \$1;
#X floatatom 810 160 5 0 0 0 - - - 0;
#X floatatom 851 161 5 0 0 0 - - - 0;
#X msg 810 182 bw \$1;
#X obj 770 239 s p1;
#X msg 851 182 a \$1;
#X obj 965 81 loadbang;
#X obj 770 27 loadbang;
#X msg 770 48 1;
#X msg 919 141 500;
#X floatatom 919 162 5 0 0 0 - - - 0;
#X msg 919 182 cf \$1;
#X floatatom 965 162 5 0 0 0 - - - 0;
#X msg 965 141 1;
#X msg 965 182 wf \$1;
#X floatatom 1010 163 5 0 0 0 - - - 0;
#X msg 1010 142 1;
#X msg 1010 183 sigma \$1;
#X obj 1079 79 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 1079 29 loadbang;
#X msg 1079 50 1;
#X connect 3 0 4 0;
#X connect 9 1 10 0;
#X connect 9 2 10 1;
#X connect 9 3 10 2;
#X connect 9 4 10 3;
#X connect 9 5 10 4;
#X connect 9 6 10 5;
#X connect 9 7 10 6;
#X connect 9 8 10 7;
#X connect 9 9 10 8;
#X connect 9 10 10 9;
#X connect 9 11 10 10;
#X connect 9 12 10 11;
#X connect 9 13 10 12;
#X connect 9 14 10 13;
#X connect 10 0 11 1;
#X connect 10 1 11 2;
#X connect 10 2 11 3;
#X connect 10 3 11 4;
#X connect 10 4 11 5;
#X connect 10 5 11 6;
#X connect 10 6 11 7;
#X connect 10 7 11 8;
#X connect 10 8 11 9;
#X connect 10 9 11 10;
#X connect 10 10 11 11;
#X connect 10 11 11 12;
#X connect 10 12 11 13;
#X connect 10 13 11 14;
#X connect 11 1 13 0;
#X connect 11 2 13 1;
#X connect 12 0 9 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 22 1;
#X connect 23 0 30 0;
#X connect 24 0 25 0;
#X connect 24 0 30 0;
#X connect 25 0 31 0;
#X connect 26 0 28 0;
#X connect 27 0 28 1;
#X connect 29 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 26 0;
#X connect 31 0 27 0;
#X connect 32 0 35 0;
#X connect 32 1 37 0;
#X connect 32 2 38 0;
#X connect 34 0 32 0;
#X connect 35 0 36 0;
#X connect 36 0 40 0;
#X connect 37 0 39 0;
#X connect 38 0 41 0;
#X connect 39 0 40 0;
#X connect 41 0 40 0;
#X connect 42 0 45 0;
#X connect 42 0 49 0;
#X connect 42 0 52 0;
#X connect 43 0 44 0;
#X connect 44 0 34 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 40 0;
#X connect 48 0 50 0;
#X connect 49 0 48 0;
#X connect 50 0 40 0;
#X connect 51 0 53 0;
#X connect 52 0 51 0;
#X connect 53 0 40 0;
#X connect 55 0 56 0;
#X connect 56 0 54 0;
