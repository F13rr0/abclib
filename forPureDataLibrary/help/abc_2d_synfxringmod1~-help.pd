#N canvas 0 73 1600 773 10;
#X obj 11 2 cnv 15 500 25 empty empty abc_2d_syn_ringmodN~Â &_fx 20 12 0 18 #606060 #fcfcfc 0;
#X obj 10 730 abc_helpcredit;
#X obj 11 28 cnv 15 500 25 empty empty Ring_modulation_to_generate_or_process_spatial_components 20 12 0 12 #606060 #fcfcfc 0;
#X obj 614 667 tgl 15 0 empty empty DSP_on/off 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 614 695 \; pd dsp \$1 \;;
#X text 1030 8 CONTROLS;
#X text 539 2 DESCRIPTION;
#X obj 121 483 abc_2d_decoder1~, f 33;
#X obj 121 433 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 121 455 stereo \$1;
#X obj 1245 486 abc_upanddown;
#X obj 417 359 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 418 378 stereo \$1;
#X obj 526 432 abc_2d_decoder3~, f 23;
#X obj 950 227 abc_soundgrain~;
#X obj 836 287 abc_2d_encoder1~, f 34;
#X obj 837 432 abc_2d_decoder1~, f 33;
#X obj 837 387 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 837 407 stereo \$1;
#X obj 739 192 abc_gain -127;
#X obj 1250 1083 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1250 1103 stereo \$1;
#X obj 1191 889 abc_gain -127;
#X obj 1282 1276 dac~ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16;
#X obj 1314 1209 abc_2d_decoder7~ ---------------;
#X obj 1523 1210 abc_2d_scope7~ --------------;
#N canvas 941 168 255 278 glissando 0;
#X obj 7 46 inlet;
#X obj 7 95 expr $f1*220+220;
#X floatatom 7 116 5 0 0 0 - - - 0;
#X obj 7 136 osc~ 440;
#X obj 7 157 *~ 0.2;
#X obj 7 181 outlet~;
#X obj 7 70 route factor;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 1 0;
#X restore 319 326 pd glissando;
#X obj 124 349 abc_2d_syn_ringmod1~, f 33;
#X text 540 22 abc_2d_syn_ringmod1~ \, abc_2d_syn_ringmod2~ \, ... objects generate spatial components in ambisonic from one mono signal thanks to ring modulators on each layout. abc_2d_fx_ringmod1~ \, abc_2d_fx_ringmodd2~ \, ... objects apply ring modulation to spatial components already created by encoders or maps for instance. If we are at order N in ambisonics \, the number of spatial components is P = 2*N+1. The P ring modulators are driven by a 'factor' parameter between 0 and 1 The ith (i between 0 and P-1) ring modulation frequency is (i+1)*f0/P. The factor parameter is compared to (i+1)/P. If it is greater than this threshold the ring modulation is applied \, else the direct sound is output.;
#X obj 530 270 abc_2d_syn_ringmod3~, f 21;
#X obj 572 241 abc_soundcoat~;
#X obj 836 344 abc_2d_fx_ringmod1~, f 34;
#X obj 836 195 loadbang;
#X msg 836 216 0.1;
#X floatatom 836 238 5 0 0 0 - - - 0;
#X msg 836 258 speed \$1;
#X obj 1333 382 loadbang;
#X floatatom 1333 424 5 0 0 0 - - - 0;
#X msg 1333 403 10;
#X obj 1318 1125 abc_2d_fx_ringmod7~ ------------;
#X obj 1353 912 loadbang;
#X floatatom 1353 998 5 0 0 0 - - - 0;
#X msg 1353 1018 f0 \$1;
#X msg 1353 977 220;
#X obj 1407 1051 abc_cosrandenv15~ ------------;
#X obj 1415 957 abc_addsynth15~ ------------;
#X msg 1245 531 factor \$1;
#X obj 97 519 abc_meter;
#X obj 813 481 abc_meter;
#X obj 1218 1246 abc_meter;
#X msg 1415 936 gain -10;
#X obj 18 434 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 18 456 directangles \$1;
#X obj 393 381 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 394 401 directangles \$1;
#X obj 731 387 tgl 15 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 731 409 directangles \$1;
#X obj 1168 1135 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1168 1157 directangles \$1;
#X obj 1563 1257 cyclone/scope~ 130 130 16 3 256 -1 1 0 0 0 0 205 229 232 74 79 77 96 98 102 0 empty;
#X text 1582 1390 cyclone/scope~;
#X obj 1374 631 s cmd;
#X obj 530 240 r cmd;
#X obj 233 280 r cmd;
#X obj 835 317 r cmd;
#X obj 1302 1050 r cmd;
#X obj 1467 173 loadbang;
#X msg 1467 196 0;
#X obj 1467 223 vradio 15 1 0 22 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 1467 563 functiontype \$1;
#X text 1415 268 log(1+x);
#X text 1453 224 x;
#X text 1440 238 x^2;
#X text 1440 254 sin;
#X text 1418 284 sqrt(x);
#X text 1382 299 1-cos(Pi/2*x);
#X text 1370 314 (1-cos(Pi*x))/2;
#X text 1405 329 1-(1-x)^2;
#X text 1393 343 composite 1;
#X text 1441 358 x^3;
#X text 1405 373 1-(1-x)^3;
#X text 1393 387 composite 2;
#X text 1441 402 x^4;
#X text 1405 417 1-(1-x)^4;
#X text 1393 432 composite 3;
#X text 1393 477 composite 4;
#X text 1441 447 x^5;
#X text 1405 462 1-(1-x)^5;
#X text 1393 507 composite 5;
#X text 1393 492 2^(10(x-1));
#X text 1381 524 1-sqrt(1-x^2);
#X text 1369 539 sqrt(1-(x-1)^2);
#X obj 169 518 abc_quadriout -15 1 2 3 4;
#X obj 1244 428 loadbang;
#X obj 1245 453 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 885 482 abc_quadriout -15 1 2 3 4;
#X msg 1333 475 f0 \$1;
#X obj 1333 446 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0 256;
#X text 1029 69 factor (between 0 and 1) is a control parameter that 'opens' the ring modulators when increasing.;
#X text 1028 111 functiontype (between 0 and 21) set the distribution used to spread delay time between the spatial components;
#X text 1030 29 f0 (in Hz) is the maximum modulation frequency of the ring modulators (defautl value 10 \, minimum 0 \, maximum 10000).;
#X obj 439 181 abc_gain -127;
#X obj 19 233 abc_gain -127;
#X obj 1047 431 abc_ambi_scope1;
#X obj 542 475 snake~ in 8, f 20;
#X obj 542 501 abc_meter8_m;
#X obj 496 502 dac~ 1;
#X connect 3 0 4 0;
#X connect 7 1 47 0;
#X connect 7 1 92 0;
#X connect 7 2 92 1;
#X connect 7 3 92 2;
#X connect 7 4 92 3;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 46 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 1 104 0;
#X connect 13 2 104 1;
#X connect 13 3 104 2;
#X connect 13 4 104 3;
#X connect 13 5 104 4;
#X connect 13 6 104 5;
#X connect 13 7 104 6;
#X connect 13 8 104 7;
#X connect 14 1 15 1;
#X connect 15 1 31 1;
#X connect 15 2 31 2;
#X connect 15 3 31 3;
#X connect 16 1 48 0;
#X connect 16 1 95 0;
#X connect 16 2 95 1;
#X connect 16 3 95 2;
#X connect 16 4 95 3;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 16 0;
#X connect 20 0 21 0;
#X connect 21 0 24 0;
#X connect 22 0 24 0;
#X connect 24 1 23 0;
#X connect 24 1 49 0;
#X connect 24 2 23 1;
#X connect 24 3 23 2;
#X connect 24 4 23 3;
#X connect 24 5 23 4;
#X connect 24 6 23 5;
#X connect 24 7 23 6;
#X connect 24 8 23 7;
#X connect 24 9 23 8;
#X connect 24 10 23 9;
#X connect 24 11 23 10;
#X connect 24 12 23 11;
#X connect 24 13 23 12;
#X connect 24 14 23 13;
#X connect 24 15 23 14;
#X connect 24 16 23 15;
#X connect 25 1 59 0;
#X connect 25 2 59 1;
#X connect 26 0 27 1;
#X connect 27 1 7 1;
#X connect 27 2 7 2;
#X connect 27 3 7 3;
#X connect 29 1 13 1;
#X connect 29 2 13 2;
#X connect 29 3 13 3;
#X connect 29 4 13 4;
#X connect 29 5 13 5;
#X connect 29 6 13 6;
#X connect 29 7 13 7;
#X connect 30 1 29 1;
#X connect 31 1 16 1;
#X connect 31 1 103 1;
#X connect 31 2 16 2;
#X connect 31 2 103 2;
#X connect 31 3 16 3;
#X connect 31 3 103 3;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 15 0;
#X connect 36 0 38 0;
#X connect 37 0 97 0;
#X connect 38 0 37 0;
#X connect 39 1 24 1;
#X connect 39 1 25 1;
#X connect 39 2 24 2;
#X connect 39 2 25 2;
#X connect 39 3 24 3;
#X connect 39 3 25 3;
#X connect 39 4 24 4;
#X connect 39 4 25 4;
#X connect 39 5 24 5;
#X connect 39 5 25 5;
#X connect 39 6 24 6;
#X connect 39 6 25 6;
#X connect 39 7 24 7;
#X connect 39 7 25 7;
#X connect 39 8 24 8;
#X connect 39 8 25 8;
#X connect 39 9 24 9;
#X connect 39 9 25 9;
#X connect 39 10 24 10;
#X connect 39 10 25 10;
#X connect 39 11 24 11;
#X connect 39 11 25 11;
#X connect 39 12 24 12;
#X connect 39 12 25 12;
#X connect 39 13 24 13;
#X connect 39 13 25 13;
#X connect 39 14 24 14;
#X connect 39 14 25 14;
#X connect 39 15 24 15;
#X connect 39 15 25 15;
#X connect 40 0 43 0;
#X connect 40 0 50 0;
#X connect 41 0 42 0;
#X connect 42 0 39 0;
#X connect 43 0 41 0;
#X connect 44 1 39 1;
#X connect 44 2 39 2;
#X connect 44 3 39 3;
#X connect 44 4 39 4;
#X connect 44 5 39 5;
#X connect 44 6 39 6;
#X connect 44 7 39 7;
#X connect 44 8 39 8;
#X connect 44 9 39 9;
#X connect 44 10 39 10;
#X connect 44 11 39 11;
#X connect 44 12 39 12;
#X connect 44 13 39 13;
#X connect 44 14 39 14;
#X connect 44 15 39 15;
#X connect 45 1 44 1;
#X connect 45 2 44 2;
#X connect 45 3 44 3;
#X connect 45 4 44 4;
#X connect 45 5 44 5;
#X connect 45 6 44 6;
#X connect 45 7 44 7;
#X connect 45 8 44 8;
#X connect 45 9 44 9;
#X connect 45 10 44 10;
#X connect 45 11 44 11;
#X connect 45 12 44 12;
#X connect 45 13 44 13;
#X connect 45 14 44 14;
#X connect 45 15 44 15;
#X connect 46 0 61 0;
#X connect 50 0 45 0;
#X connect 51 0 52 0;
#X connect 52 0 7 0;
#X connect 53 0 54 0;
#X connect 54 0 13 0;
#X connect 55 0 56 0;
#X connect 56 0 16 0;
#X connect 57 0 58 0;
#X connect 58 0 24 0;
#X connect 62 0 29 0;
#X connect 63 0 26 0;
#X connect 63 0 27 0;
#X connect 64 0 31 0;
#X connect 65 0 39 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 69 0 61 0;
#X connect 93 0 94 0;
#X connect 94 0 10 0;
#X connect 96 0 61 0;
#X connect 97 0 96 0;
#X connect 101 0 13 0;
#X connect 102 0 7 0;
#X connect 104 0 105 0;
#X connect 104 0 106 0;
#X coords 0 773 1 772 85 60 0;
