#N canvas 30 73 1630 773 10;
#X obj 11 2 cnv 15 500 25 empty empty abc_2d_syn_ringmodN~Â &_fx 20
12 0 18 #606060 #fcfcfc 0;
#X obj 10 730 abc_helpcredit;
#X obj 11 28 cnv 15 500 25 empty empty Ring_modulation_to_generate_or_process_spatial_components
20 12 0 12 #606060 #fcfcfc 0;
#X obj 614 667 tgl 15 0 empty empty DSP_on/off 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 614 695 \; pd dsp \$1 \;;
#X text 1030 8 CONTROLS;
#X text 539 2 DESCRIPTION;
#X obj 121 483 abc_2d_decoder1~, f 33;
#X obj 121 435 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 121 457 stereo \$1;
#X obj 19 233 abc_gain -127;
#X obj 1245 486 abc_upanddown;
#X obj 417 406 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 418 425 stereo \$1;
#X obj 526 479 abc_2d_decoder3~, f 23;
#X obj 542 522 dac~ 1 2 3 4 5 6 7 8;
#X obj 934 271 abc_soundgrain~;
#X obj 819 331 abc_2d_encoder1~, f 34;
#X obj 820 476 abc_2d_decoder1~, f 33;
#X obj 820 433 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 820 453 stereo \$1;
#X obj 722 236 abc_gain -127;
#X obj 1069 432 abc_2d_scope1~;
#X obj 1250 1083 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 1250 1103 stereo \$1;
#X obj 1191 889 abc_gain -127;
#X obj 1282 1276 dac~ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16;
#X obj 1314 1209 abc_2d_decoder7~ ---------------;
#X obj 1523 1210 abc_2d_scope7~ --------------;
#N canvas 941 168 255 278 glissando 0;
#X obj 7 46 inlet;
#X obj 7 95 expr $f1*220+220;
#X floatatom 7 116 5 0 0 0 - - - 0;
#X obj 7 136 osc~ 440;
#X obj 7 157 *~ 0.2;
#X obj 7 181 outlet~;
#X obj 7 70 route factor;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 1 0;
#X restore 319 326 pd glissando;
#X obj 124 349 abc_2d_syn_ringmod1~, f 33;
#X text 540 22 abc_2d_syn_ringmod1~ \, abc_2d_syn_ringmod2~ \, ...
objects generate spatial components in ambisonic from one mono signal
thanks to ring modulators on each layout. abc_2d_fx_ringmod1~ \, abc_2d_fx_ringmodd2~
\, ... objects apply ring modulation to spatial components already
created by encoders or maps for instance. If we are at order N in ambisonics
\, the number of spatial components is P = 2*N+1. The P ring modulators
are driven by a 'factor' parameter between 0 and 1 The ith (i between
0 and P-1) ring modulation frequency is (i+1)*f0/P. The factor parameter
is compared to (i+1)/P. If it is greater than this threshold the ring
modulation is applied \, else the direct sound is output.;
#X obj 530 317 abc_2d_syn_ringmod3~, f 21;
#X obj 572 288 abc_soundcoat~;
#X obj 819 388 abc_2d_fx_ringmod1~, f 34;
#X obj 819 239 loadbang;
#X msg 819 260 0.1;
#X floatatom 819 282 5 0 0 0 - - - 0;
#X msg 819 302 speed \$1;
#X obj 1336 370 loadbang;
#X floatatom 1336 412 5 0 0 0 - - - 0;
#X msg 1336 391 10;
#X obj 1318 1125 abc_2d_fx_ringmod7~ ------------;
#X obj 1353 912 loadbang;
#X floatatom 1353 998 5 0 0 0 - - - 0;
#X msg 1353 1018 f0 \$1;
#X msg 1353 977 220;
#X obj 1407 1051 abc_cosrandenv15~ ------------;
#X obj 1415 957 abc_addsynth15~ ------------;
#X msg 1245 531 factor \$1;
#X obj 97 519 abc_meter;
#X obj 472 522 abc_meter;
#X obj 796 525 abc_meter;
#X obj 1218 1246 abc_meter;
#X obj 439 228 abc_gain -20;
#X msg 1415 936 gain -10;
#X obj 18 434 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 18 456 directangles \$1;
#X obj 393 428 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 394 448 directangles \$1;
#X obj 714 431 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 714 453 directangles \$1;
#X obj 1168 1135 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 1168 1157 directangles \$1;
#X obj 1049 478 cyclone/scope~ 130 130 16 3 256 -1 1 0 0 0 0 205 229
232 74 79 77 96 98 102 0 empty;
#X text 1068 611 cyclone/scope~;
#X obj 1563 1257 cyclone/scope~ 130 130 16 3 256 -1 1 0 0 0 0 205 229
232 74 79 77 96 98 102 0 empty;
#X text 1582 1390 cyclone/scope~;
#X obj 1374 631 s cmd;
#X obj 531 287 r cmd;
#X obj 233 280 r cmd;
#X obj 818 361 r cmd;
#X obj 1302 1050 r cmd;
#X obj 1467 173 loadbang;
#X msg 1467 196 0;
#X obj 1467 223 vradio 15 1 0 22 empty empty empty 0 -8 0 10 #fcfcfc
#000000 #000000 0;
#X msg 1467 563 functiontype \$1;
#X text 1415 268 log(1+x);
#X text 1453 224 x;
#X text 1440 238 x^2;
#X text 1440 254 sin;
#X text 1418 284 sqrt(x);
#X text 1382 299 1-cos(Pi/2*x);
#X text 1370 314 (1-cos(Pi*x))/2;
#X text 1405 329 1-(1-x)^2;
#X text 1393 343 composite 1;
#X text 1441 358 x^3;
#X text 1405 373 1-(1-x)^3;
#X text 1393 387 composite 2;
#X text 1441 402 x^4;
#X text 1405 417 1-(1-x)^4;
#X text 1393 432 composite 3;
#X text 1393 477 composite 4;
#X text 1441 447 x^5;
#X text 1405 462 1-(1-x)^5;
#X text 1393 507 composite 5;
#X text 1393 492 2^(10(x-1));
#X text 1381 524 1-sqrt(1-x^2);
#X text 1369 539 sqrt(1-(x-1)^2);
#X obj 167 518 abc_quadriout -15 1 2 3 4;
#X obj 1243 428 loadbang;
#X obj 1244 453 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 868 526 abc_quadriout -15 1 2 3 4;
#X msg 1333 475 f0 \$1;
#X obj 1334 446 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0
10 #fcfcfc #000000 #000000 0 256;
#X text 1029 69 factor (between 0 and 1) is a control parameter that
'opens' the ring modulators when increasing.;
#X text 1028 111 functiontype (between 0 and 21) set the distribution
used to spread delay time between the spatial components;
#X text 1030 29 f0 (in Hz) is the maximum modulation frequency of the
ring modulators (defautl value 10 \, minimum 0 \, maximum 10000).;
#X connect 3 0 4 0;
#X connect 7 1 50 0;
#X connect 7 1 99 0;
#X connect 7 2 99 1;
#X connect 7 3 99 2;
#X connect 7 4 99 3;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 7 0;
#X connect 11 0 49 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 1 15 0;
#X connect 14 1 51 0;
#X connect 14 2 15 1;
#X connect 14 3 15 2;
#X connect 14 4 15 3;
#X connect 14 5 15 4;
#X connect 14 6 15 5;
#X connect 14 7 15 6;
#X connect 14 8 15 7;
#X connect 16 1 17 1;
#X connect 17 1 34 1;
#X connect 17 2 34 2;
#X connect 17 3 34 3;
#X connect 18 1 52 0;
#X connect 18 1 102 0;
#X connect 18 2 102 1;
#X connect 18 3 102 2;
#X connect 18 4 102 3;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 18 0;
#X connect 22 1 64 0;
#X connect 22 2 64 1;
#X connect 23 0 24 0;
#X connect 24 0 27 0;
#X connect 25 0 27 0;
#X connect 27 1 26 0;
#X connect 27 1 53 0;
#X connect 27 2 26 1;
#X connect 27 3 26 2;
#X connect 27 4 26 3;
#X connect 27 5 26 4;
#X connect 27 6 26 5;
#X connect 27 7 26 6;
#X connect 27 8 26 7;
#X connect 27 9 26 8;
#X connect 27 10 26 9;
#X connect 27 11 26 10;
#X connect 27 12 26 11;
#X connect 27 13 26 12;
#X connect 27 14 26 13;
#X connect 27 15 26 14;
#X connect 27 16 26 15;
#X connect 28 1 66 0;
#X connect 28 2 66 1;
#X connect 29 0 30 1;
#X connect 30 1 7 1;
#X connect 30 2 7 2;
#X connect 30 3 7 3;
#X connect 32 1 14 1;
#X connect 32 2 14 2;
#X connect 32 3 14 3;
#X connect 32 4 14 4;
#X connect 32 5 14 5;
#X connect 32 6 14 6;
#X connect 32 7 14 7;
#X connect 33 1 32 1;
#X connect 34 1 18 1;
#X connect 34 1 22 1;
#X connect 34 2 18 2;
#X connect 34 2 22 2;
#X connect 34 3 18 3;
#X connect 34 3 22 3;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 17 0;
#X connect 39 0 41 0;
#X connect 40 0 104 0;
#X connect 41 0 40 0;
#X connect 42 1 27 1;
#X connect 42 1 28 1;
#X connect 42 2 27 2;
#X connect 42 2 28 2;
#X connect 42 3 27 3;
#X connect 42 3 28 3;
#X connect 42 4 27 4;
#X connect 42 4 28 4;
#X connect 42 5 27 5;
#X connect 42 5 28 5;
#X connect 42 6 27 6;
#X connect 42 6 28 6;
#X connect 42 7 27 7;
#X connect 42 7 28 7;
#X connect 42 8 27 8;
#X connect 42 8 28 8;
#X connect 42 9 27 9;
#X connect 42 9 28 9;
#X connect 42 10 27 10;
#X connect 42 10 28 10;
#X connect 42 11 27 11;
#X connect 42 11 28 11;
#X connect 42 12 27 12;
#X connect 42 12 28 12;
#X connect 42 13 27 13;
#X connect 42 13 28 13;
#X connect 42 14 27 14;
#X connect 42 14 28 14;
#X connect 42 15 27 15;
#X connect 42 15 28 15;
#X connect 43 0 46 0;
#X connect 43 0 55 0;
#X connect 44 0 45 0;
#X connect 45 0 42 0;
#X connect 46 0 44 0;
#X connect 47 1 42 1;
#X connect 47 2 42 2;
#X connect 47 3 42 3;
#X connect 47 4 42 4;
#X connect 47 5 42 5;
#X connect 47 6 42 6;
#X connect 47 7 42 7;
#X connect 47 8 42 8;
#X connect 47 9 42 9;
#X connect 47 10 42 10;
#X connect 47 11 42 11;
#X connect 47 12 42 12;
#X connect 47 13 42 13;
#X connect 47 14 42 14;
#X connect 47 15 42 15;
#X connect 48 1 47 1;
#X connect 48 2 47 2;
#X connect 48 3 47 3;
#X connect 48 4 47 4;
#X connect 48 5 47 5;
#X connect 48 6 47 6;
#X connect 48 7 47 7;
#X connect 48 8 47 8;
#X connect 48 9 47 9;
#X connect 48 10 47 10;
#X connect 48 11 47 11;
#X connect 48 12 47 12;
#X connect 48 13 47 13;
#X connect 48 14 47 14;
#X connect 48 15 47 15;
#X connect 49 0 68 0;
#X connect 54 0 14 0;
#X connect 55 0 48 0;
#X connect 56 0 57 0;
#X connect 57 0 7 0;
#X connect 58 0 59 0;
#X connect 59 0 14 0;
#X connect 60 0 61 0;
#X connect 61 0 18 0;
#X connect 62 0 63 0;
#X connect 63 0 27 0;
#X connect 69 0 32 0;
#X connect 70 0 29 0;
#X connect 70 0 30 0;
#X connect 71 0 34 0;
#X connect 72 0 42 0;
#X connect 73 0 74 0;
#X connect 74 0 75 0;
#X connect 75 0 76 0;
#X connect 76 0 68 0;
#X connect 100 0 101 0;
#X connect 101 0 11 0;
#X connect 103 0 68 0;
#X connect 104 0 103 0;
#X coords 0 773 1 772 85 60 0;
