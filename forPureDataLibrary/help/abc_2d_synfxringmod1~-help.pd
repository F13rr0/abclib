#N canvas 0 79 2109 784 10;
#X obj 11 13 cnv 15 500 25 empty empty abc_2d_syn_ringmodN~Â &_fx 20 12 0 18 #606060 #fcfcfc 0;
#X obj 10 741 abc_helpcredit;
#X obj 11 39 cnv 15 500 25 empty empty Ring_modulation_to_generate_or_process_spatial_components 20 12 0 12 #606060 #fcfcfc 0;
#X obj 1469 647 tgl 15 0 empty empty DSP_on/off 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 1469 675 \; pd dsp \$1 \;;
#X text 1030 19 CONTROLS;
#X text 539 13 DESCRIPTION;
#X obj 121 412 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 121 434 stereo \$1;
#X obj 1245 497 abc_upanddown;
#X obj 447 419 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 448 438 stereo \$1;
#X obj 933 282 abc_soundgrain~;
#X obj 825 436 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 825 456 stereo \$1;
#X obj 719 247 abc_gain -127;
#X obj 1742 346 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1742 366 stereo \$1;
#X obj 1683 152 abc_gain -127;
#N canvas 941 168 255 278 glissando 0;
#X obj 7 46 inlet;
#X obj 7 95 expr $f1*220+220;
#X floatatom 7 116 5 0 0 0 - - - 0;
#X obj 7 136 osc~ 440;
#X obj 7 157 *~ 0.2;
#X obj 7 181 outlet~;
#X obj 7 70 route factor;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 1 0;
#X restore 317 363 pd glissando;
#X text 540 33 abc_2d_syn_ringmod1~ \, abc_2d_syn_ringmod2~ \, ... objects generate spatial components in ambisonic from one mono signal thanks to ring modulators on each layout. abc_2d_fx_ringmod1~ \, abc_2d_fx_ringmodd2~ \, ... objects apply ring modulation to spatial components already created by encoders or maps for instance. If we are at order N in ambisonics \, the number of spatial components is P = 2*N+1. The P ring modulators are driven by a 'factor' parameter between 0 and 1 The ith (i between 0 and P-1) ring modulation frequency is (i+1)*f0/P. The factor parameter is compared to (i+1)/P. If it is greater than this threshold the ring modulation is applied \, else the direct sound is output.;
#X obj 572 431 abc_soundcoat~;
#X obj 819 250 loadbang;
#X msg 819 271 0.1;
#X floatatom 819 293 5 0 0 0 - - - 0;
#X msg 819 313 speed \$1;
#X obj 1333 402 loadbang;
#X floatatom 1333 444 5 0 0 0 - - - 0;
#X msg 1333 423 10;
#X obj 1848 175 loadbang;
#X floatatom 1848 294 5 0 0 0 - - - 0;
#X msg 1848 314 f0 \$1;
#X msg 1848 273 220;
#X msg 1245 542 factor \$1;
#X msg 1901 199 gain -10;
#X obj 190 412 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 190 434 directangles \$1;
#X obj 423 441 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 424 461 directangles \$1;
#X obj 719 434 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 719 456 directangles \$1;
#X obj 1660 398 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1660 420 directangles \$1;
#X obj 1335 651 s cmd;
#X obj 530 431 r cmd;
#X obj 231 317 r cmd;
#X obj 819 372 r cmd;
#X obj 1810 315 r cmd;
#X obj 1467 184 loadbang;
#X msg 1467 207 0;
#X obj 1467 234 vradio 15 1 0 22 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 1467 574 functiontype \$1;
#X text 1415 279 log(1+x);
#X text 1453 235 x;
#X text 1440 249 x^2;
#X text 1440 265 sin;
#X text 1418 295 sqrt(x);
#X text 1382 310 1-cos(Pi/2*x);
#X text 1370 325 (1-cos(Pi*x))/2;
#X text 1405 340 1-(1-x)^2;
#X text 1393 354 composite 1;
#X text 1441 369 x^3;
#X text 1405 384 1-(1-x)^3;
#X text 1393 398 composite 2;
#X text 1441 413 x^4;
#X text 1405 428 1-(1-x)^4;
#X text 1393 443 composite 3;
#X text 1393 488 composite 4;
#X text 1441 458 x^5;
#X text 1405 473 1-(1-x)^5;
#X text 1393 518 composite 5;
#X text 1393 503 2^(10(x-1));
#X text 1381 535 1-sqrt(1-x^2);
#X text 1369 550 sqrt(1-(x-1)^2);
#X obj 1245 461 tgl 25 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000 0 1;
#X msg 1333 486 f0 \$1;
#X obj 1333 467 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0 256;
#X text 1029 80 factor (between 0 and 1) is a control parameter that 'opens' the ring modulators when increasing.;
#X text 1028 122 functiontype (between 0 and 21) set the distribution used to spread delay time between the spatial components;
#X text 1030 40 f0 (in Hz) is the maximum modulation frequency of the ring modulators (defautl value 10 \, minimum 0 \, maximum 10000).;
#X obj 519 239 abc_gain -127;
#X obj 36 223 abc_gain -127;
#X obj 122 386 abc_2d_syn_ringmod1_m, f 33;
#X obj 121 460 abc_2d_decoder1_m, f 33;
#X obj 167 529 abc_quadriout_m -15 1 2 3 4;
#X obj 71 528 abc_meter4_m;
#X obj 530 460 abc_2d_syn_ringmod3_m;
#X obj 518 488 abc_2d_decoder3_m, f 23;
#X obj 653 520 dac~ 1;
#X obj 472 533 abc_meter8_m;
#X obj 819 341 abc_2d_encoder1_m, f 34;
#X obj 819 399 abc_2d_fx_ringmod1_m, f 34;
#X obj 1034 478 abc_2d_scope1_m;
#X obj 825 479 abc_2d_decoder1_m, f 33;
#X obj 868 533 abc_quadriout_m -15 1 2 3 4;
#X obj 769 534 abc_meter4_m;
#X obj 1039 533 abc_xy_scope_m;
#X obj 1901 220 abc_addsynth15_m;
#X obj 1890 314 abc_cosrandenv15_m;
#X obj 1810 388 abc_2d_fx_ringmod7_m;
#X obj 1806 472 abc_2d_decoder7_m;
#X obj 1905 504 dac~ 1;
#X obj 1927 534 abc_ambi_scope7_m;
#X obj 1647 534 abc_meter16_m;
#X connect 3 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 83 0;
#X connect 9 0 33 0;
#X connect 10 0 11 0;
#X connect 11 0 87 0;
#X connect 12 1 90 1;
#X connect 13 0 14 0;
#X connect 14 0 93 0;
#X connect 15 0 93 0;
#X connect 16 0 17 0;
#X connect 17 0 100 0;
#X connect 18 0 100 0;
#X connect 19 0 82 1;
#X connect 21 1 86 1;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 90 0;
#X connect 26 0 28 0;
#X connect 27 0 76 0;
#X connect 28 0 27 0;
#X connect 29 0 32 0;
#X connect 29 0 34 0;
#X connect 30 0 31 0;
#X connect 31 0 99 0;
#X connect 32 0 30 0;
#X connect 33 0 43 0;
#X connect 34 0 97 0;
#X connect 35 0 36 0;
#X connect 36 0 83 0;
#X connect 37 0 38 0;
#X connect 38 0 87 0;
#X connect 39 0 40 0;
#X connect 40 0 93 0;
#X connect 41 0 42 0;
#X connect 42 0 100 0;
#X connect 44 0 86 0;
#X connect 45 0 19 0;
#X connect 45 0 82 0;
#X connect 46 0 91 0;
#X connect 47 0 99 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 43 0;
#X connect 74 0 9 0;
#X connect 75 0 43 0;
#X connect 76 0 75 0;
#X connect 80 0 87 0;
#X connect 81 0 83 0;
#X connect 82 1 83 1;
#X connect 83 1 84 0;
#X connect 83 1 85 0;
#X connect 86 1 87 1;
#X connect 87 1 88 0;
#X connect 87 1 89 0;
#X connect 90 1 91 1;
#X connect 91 1 92 1;
#X connect 91 1 93 1;
#X connect 92 1 96 1;
#X connect 93 1 94 0;
#X connect 93 1 95 0;
#X connect 97 1 98 1;
#X connect 98 1 99 1;
#X connect 99 1 100 1;
#X connect 99 1 102 1;
#X connect 100 1 101 0;
#X connect 100 1 103 0;
#X coords 0 784 1 783 85 60 0;
